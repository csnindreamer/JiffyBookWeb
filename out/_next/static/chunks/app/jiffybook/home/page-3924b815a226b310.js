(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{5153:function(e,t,s){Promise.resolve().then(s.bind(s,5226))},1660:function(e,t,s){"use strict";s.d(t,{H:function(){return r},I:function(){return i}});var n=s(5863);s(4665),s(2419);let r=n.Z.initializeApp({apiKey:"AIzaSyBlAuR15-nklQR0LEKxFHT4iLOnbT4hWyI",authDomain:"jiffybook-preprod.firebaseapp.com",databaseURL:"https://jiffybook-preprod.firebaseio.com",projectId:"jiffybook-preprod",storageBucket:"jiffybook-preprod.appspot.com",messagingSenderId:"538384824023",appId:"1:538384824023:web:5f2409822cab5be2ce2292",measurementId:"G-JXC4M514VY"});n.Z.firestore();let i=n.Z.auth()},1326:function(e,t,s){"use strict";var n=s(9268),r=s(6006),i=s(6008),a=s(1660),l=s(4734);t.Z=e=>t=>{let[s,o]=(0,r.useState)(null),c=(0,i.useRouter)(),d=(0,r.useRef)(!0);(0,r.useEffect)(()=>{let e=a.I.onAuthStateChanged(e=>{console.log("onAuthStateChanged",e),e?o({uid:e.uid,displayName:e.displayName,email:e.email}):o(null)}),t=()=>{a.I.signOut()};return window.addEventListener("beforeunload",t),()=>{e(),window.removeEventListener("beforeunload",t)}},[]),(0,r.useEffect)(()=>{if(d.current){d.current=!1;return}console.log("User state changed:",s),s||c.push("/")},[s]);let u=()=>{let e=a.I.onAuthStateChanged(e=>{o(e)});return e};(0,r.useEffect)(()=>{let e=u();return()=>{e()}},[]);let f=()=>{setInterval(()=>{u()},6e4)};return(0,r.useEffect)(()=>{s&&f()},[s]),(0,r.useEffect)(()=>{let e=(0,l.v0)(a.H);return e.setPersistence(l.aT),()=>{let e=(0,l.v0)(a.H);e.setPersistence(l.aT)}},[]),(0,n.jsx)(e,{user:s,...t})}},5226:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var n=s(9268),r=s(1326),i=s(6006),a=s(9738),l=s(4236),o=s(6008),c=s(2801),d=()=>{let[e,t]=(0,i.useState)(!0),s=(0,o.useRouter)();function r(){t(!1),s.push("/")}return(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:"center-container",children:(0,n.jsx)(a.u,{appear:!0,show:e,as:i.Fragment,children:(0,n.jsxs)(l.V,{as:"div",className:"relative z-10",onClose:r,children:[(0,n.jsx)(a.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25"})}),(0,n.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,n.jsx)("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:(0,n.jsx)(a.u.Child,{as:i.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,n.jsxs)(l.V.Panel,{className:"bg-lightyellow w-full max-w-md transform overflow-hidden rounded-2xl  p-6 text-left align-middle shadow-xl transition-all",children:[(0,n.jsx)(l.V.Title,{as:"h3",className:"text-lg font-medium leading-6 text-black",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(c.gJy,{className:"h-6 w-6 text-red","aria-hidden":"true"}),(0,n.jsx)("span",{className:"ml-2",children:"Session Expired"})]})}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsxs)("p",{className:"text-sm text-black",children:["Your session has expired.",(0,n.jsx)("br",{}),"You will be redirected to the login Page"]})}),(0,n.jsx)("div",{className:"mt-4",children:(0,n.jsx)("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent  px-4 py-2 text-sm font-medium text-black hover:bg-transparent focus:outline-none focus-visible:ring-2 focus-visible:ring-orange focus-visible:ring-offset-2",onClick:r,children:"Got it, thanks!"})})]})})})})]})})})})},u=(0,r.Z)(e=>{let{user:t}=e;return(0,n.jsx)("div",{children:t?(0,n.jsx)("div",{children:(0,n.jsx)("h1",{children:"Home screen"})}):(0,n.jsx)("div",{children:(0,n.jsx)(d,{})})})})}},function(e){e.O(0,[662,913,296,755,282,253,961,744],function(){return e(e.s=5153)}),_N_E=e.O()}]);